---
layout: post
title: "Update on OpenType MATH fonts"
tags: igalia fonts mathml
---

{% raw %}

  <p>I mentioned in a <a href="https://frederic-wang.fr/short-blog-post-from-madrid-s-hotel-room.html">previous post</a> that Igalia organized the Web Engines Hackfest 2022 last week. As usual, fonts were one of the topic discussed. Dominik RÃ¶ttsches presented <a href="https://youtu.be/Bl4lkam3Snw?t=2356">COLRv1 color vector fonts in Chrome and OSS</a> (<a href="https://hackmd.io/L_EUmERuQfqlT_MyPPVZ-A?view#%E2%80%9CCOLRv1-in-Chromium-amp-OSS%E2%80%9D-Dominik-R%C3%B6ttsches-drott-">transcript</a>) and we also settled a breakout session on Tuesday morning. Because one issue raised was the availability of OpenType MATH fonts on operating systems, I believe itâ€™s worth giving an update on the latest statusâ€¦</p>

<p>There are only a few fonts with an <a href="https://docs.microsoft.com/en-us/typography/opentype/spec/math">OpenType MATH table</a>. Such fonts can be used for math layout e.g. modern TeX engines to render <a href="https://en.wikipedia.org/wiki/LaTeX">LaTeX</a>, Microsoft Office to render <a href="https://docs.microsoft.com/en-us/archive/blogs/murrays/mathml-and-ecma-math-omml">OMML</a> or Web engines to render <a href="https://w3c.github.io/mathml-core/">MathML</a>. Three of such fonts are interesting to consider, so Iâ€™m providing a quick overview together with screenshots generated by <a href="https://en.wikipedia.org/wiki/XeTeX">XeTeX</a> from the LaTeX formula <code class="language-plaintext highlighter-rouge">$${\sqrt{\sum_{n=1}^\infty {\frac{10}{n^4}}}} = {\int_0^\infty \frac{2x dx}{e^x-1}} = \frac{\pi^2}{3} \in {\mathbb R}$$</code>:</p>

<ul>
  <li><a href="https://docs.microsoft.com/en-us/typography/font-list/cambria-math">Cambria Math</a> is a proprietary font installed by default on Microsoft Windows. <img src="https://frederic-wang.fr/images/2022-06-20-cambria-math.png" alt="Screenshot of a math formula rendered with Cambria Math by XeLaTeX" /></li>
  <li><a href="https://www.stixfonts.org/">STIX Two Math</a> is a font <a href="https://en.wikipedia.org/wiki/SIL_Open_Font_License">under the OFL license</a> with a large unicode coverage for scientific characters. <img src="https://frederic-wang.fr/images/2022-06-20-stix-two-math.png" alt="Screenshot of a math formula rendered with STIX Two Math by XeLaTeX" /></li>
  <li><a href="https://www.stixfonts.org/">Latin Modern Math</a> is a font <a href="https://www.gust.org.pl/projects/e-foundry/licenses/GUST-FONT-LICENSE.txt/view">under the GUST license</a> with the <a href="https://en.wikipedia.org/wiki/Computer_Modern">Computer Modern</a> style that TeX uses by default. <img src="https://frederic-wang.fr/images/2022-06-20-latin-modern-math.png" alt="Screenshot of a math formula rendered with Latin Modern Math by XeLaTeX" /></li>
</ul>

<p>Recently, Igalia has been in touch with <a href="https://github.com/litherum">Myles C. Maxfield</a> who has helped with internal discussion at Apple regarding inclusion of STIX Two Math in the list of fonts on macOS. Last week he came back to us announcing itâ€™s now the case on all the betas of <a href="https://en.wikipedia.org/wiki/MacOS_Ventura">macOS 13 Ventura</a> ðŸŽ‰ ! I just tested it this morning and indeed STIX Two Math is now showing up as expected in the <a href="https://support.apple.com/guide/font-book/welcome/mac">Font Book</a>. Here is the rendering of the <a href="https://people.igalia.com/fwang/2022-06-igalia-week-shipping-mathml-in-chromium/#/20">last slide of my hackfest presentation</a> in Safari 16.0:</p>

<p><img src="https://frederic-wang.fr/images/2022-06-20-stix-two-math-safari.png" alt="Screenshot of a math formula rendered with STIX Two Math by Safari" /></p>

<p>Obviously, this is a good news for Chromium and Firefox too. For the former, we are preparing our MathML intent-to-ship and having decent rendering on macOS by default is important. As for the latter, we could in the future finally get rid of <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1336058">hardcoded tables to support the deprecated STIXGeneral set</a>.</p>

<p>Another interesting platform to consider for Chromium is Android. Last week, there has been <a href="https://github.com/googlefonts/noto-fonts/issues/330#issuecomment-1152883625">new activity on the Noto fonts bug</a> and answers seem more encouraging nowâ€¦ So letâ€™s hope we can get a proper math font on Android soon!</p>

<p>Finally, Iâ€™m not exactly sure about the situation on Linux and it may be different for the various distributions. STIX and Latin Modern should generally be available as system packages that can be easily installed. It would be nicer if they were pre-installed by default thoughâ€¦</p>

{% endraw %}
